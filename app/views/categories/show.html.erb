<h1 class="flex flex-wrap justify-center text-3xl font-bold mb-6">Category Show Page</h1>

<div class="min-h-screen flex justify-center">

  <div class="flex flex-wrap mt-6 gap-6 flex-grow justify-center items-start">
    <% if @products.empty? %>
      <p class="text-2xl text-left text-gray-800">NO Products Found</p>
    <% else %>
      <% @products.each do |product| %>
        <div class="max-w-xs bg-gray-100 shadow-lg rounded-lg overflow-hidden m-4">
          <div class="p-4">
            <% if product.images.attached? %>
              <%= image_tag product.images.first.variant(resize_to_limit: [250, 250]).processed, class: "rounded" %>
            <% else %>
              <%= image_tag "https://via.placeholder.com/250", class: "rounded" %>
            <% end %>
          </div>
          <div class="p-4">
            <h2 class="mt-2 font-bold text-gray-800 text-center"><%= product.name %></h2>
            <p class="text-gray-600 text-center"><%= product.description %></p>
            <div class="flex justify-center mt-4 space-x-2">
              <%= link_to 'View Details', product_path(product), class: "bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded" %>
              <% if product.stocks.sum(:amount) > 0 %>
                <%= button_to add_item_wishlist_path(product_id: product.id), method: :post, class: "bg-pink-500 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded" do %>
                  <%= icon 'fa-solid', 'heart' %>
                <% end %>
              <% else %>
                <button class="bg-gray-500 text-white font-bold py-2 px-4 rounded" disabled>Out of Stock</button>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
